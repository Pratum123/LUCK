<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ЁЯУЪ рдкреНрд░рд╢реНрдиреЛрддреНрддрд░реА рдРрдк (JSON рдЖрдпрд╛рдд рд╕рдкреЛрд░реНрдЯ)</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #f5f7fa, #e4e7f0);
      margin: 0;
      padding: 0;
      color: #333;
    }
    header {
      background: linear-gradient(135deg, #3949ab, #283593);
      color: white;
      padding: 20px;
      font-size: 24px;
      text-align: center;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      position: relative;
    }
    .section {
      background: white;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.08);
      max-width: 850px;
      margin: 30px auto;
      transition: all 0.3s ease;
    }
    textarea, input, select {
      width: 100%;
      padding: 12px;
      margin: 8px 0;
      border-radius: 8px;
      border: 1px solid #ddd;
      font-size: 16px;
      box-sizing: border-box;
      transition: border 0.3s;
    }
    textarea:focus, input:focus, select:focus {
      border-color: #3949ab;
      outline: none;
      box-shadow: 0 0 0 2px rgba(57, 73, 171, 0.2);
    }
    .btn {
      background: linear-gradient(135deg, #3949ab, #5c6bc0);
      color: white;
      font-weight: bold;
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      margin-top: 10px;
      transition: all 0.2s;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      display: inline-block;
    }
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    }
    .btn-option {
      display: block;
      width: 100%;
      text-align: left;
      padding: 12px 15px;
      border-radius: 8px;
      background: #f8f9fa;
      border: 1px solid #e0e0e0;
      margin: 8px 0;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.2s;
    }
    .btn-option:hover {
      background: #e9ecef;
      transform: translateX(5px);
    }
    .explanation {
      margin-top: 20px;
      padding-top: 15px;
      border-top: 1px solid #eee;
      color: #555;
      line-height: 1.5;
      background: #f9f9f9;
      border-radius: 8px;
      padding: 15px;
    }
    .edit-btn {
      position: absolute;
      top: 2px;
      right: 2px;
      background: #FFC107;
      color: #000;
      border: none;
      padding: 2px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 10px;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .question-item {
      padding: 12px 0;
      border-bottom: 1px solid #eee;
      position: relative;
    }
    .submit-btn {
      background: linear-gradient(135deg, #4CAF50, #66BB6A);
    }
    .delete-btn {
      background: linear-gradient(135deg, #f44336, #e53935);
    }
    .accuracy-display {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 32px;
      font-weight: bold;
      color: #3949ab;
      text-align: center;
    }
    .question-container {
      position: relative;
      padding: 15px;
      background: #fff;
      border-radius: 8px;
      margin-bottom: 15px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      border-left: 4px solid #3949ab;
    }
    .question-text {
      font-weight: bold;
      margin-bottom: 10px;
      color: #2c3e50;
    }
    .statement {
      font-weight: normal;
      color: #555;
      margin: 5px 0;
      line-height: 1.4;
      padding-left: 15px;
      border-left: 2px solid #e0e0e0;
    }
    .image-preview-container {
      margin: 15px 0;
      text-align: center;
      width: 100%;
      height: 200px;
      border: 1px dashed #ddd;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      background: #fafafa;
    }
    .image-preview {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
    }
    .remove-image-btn {
      background: #f44336;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 5px;
      font-size: 12px;
    }
    .upload-btn-wrapper {
      position: relative;
      overflow: hidden;
      display: inline-block;
      width: 100%;
    }
    .upload-btn {
      background: #e3f2fd;
      color: #1976d2;
      border: 1px dashed #64b5f6;
      padding: 12px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      text-align: center;
      margin: 10px 0;
      display: block;
      transition: all 0.3s;
    }
    .upload-btn:hover {
      background: #bbdefb;
    }
    .upload-btn-wrapper input[type=file] {
      position: absolute;
      left: 0;
      top: 0;
      opacity: 0;
      width: 100%;
      height: 100%;
      cursor: pointer;
    }
    .question-image-container {
      width: 100%;
      height: 50vh;
      min-height: 200px;
      max-height: 300px;
      margin: 15px 0;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      border-radius: 8px;
      background: #f8f9f9;
      border: 1px solid #e0e0e0;
    }
    .question-image {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
    }
    .action-buttons {
      display: flex;
      gap: 10px;
      margin-top: 15px;
    }
    .action-buttons .btn {
      flex: 1;
    }
    .db-info {
      background: #e3f2fd;
      padding: 10px 15px;
      border-radius: 8px;
      margin: 15px 0;
      font-size: 14px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .status-indicator {
      display: inline-block;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      margin-right: 8px;
    }
    .status-connected {
      background: #4CAF50;
    }
    .status-disconnected {
      background: #f44336;
    }
    .backup-section {
      margin-top: 30px;
      padding-top: 20px;
      border-top: 1px solid #eee;
    }
    .backup-title {
      text-align: center;
      color: #3949ab;
      margin-bottom: 15px;
    }
    .backup-actions {
      display: flex;
      gap: 10px;
      margin-top: 15px;
    }
    .backup-actions .btn {
      flex: 1;
    }
    @media (max-width: 600px) {
      .result-content {
        flex-direction: column;
      }
      .question-image-container {
        height: 30vh;
        max-height: 250px;
      }
      .section {
        padding: 15px;
        margin: 15px;
      }
      .action-buttons {
        flex-direction: column;
      }
      .backup-actions {
        flex-direction: column;
      }
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<header>
  <div>ЁЯУЪ рдкреНрд░рд╢реНрдиреЛрддреНрддрд░реА рдРрдк (JSON рдЖрдпрд╛рдд рд╕рдкреЛрд░реНрдЯ)</div>
  <div style="font-size: 16px; margin-top: 10px;">рдЕрдм JSON рдлрд╝рд╛рдЗрд▓реЛрдВ рд╕реЗ рдкреНрд░рд╢реНрди рдЖрдпрд╛рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ</div>
</header>
<h2 id="pageTitle" style="text-align:center; color:#3949ab;"></h2>
<div id="inputSection" class="section" style="display:none;">
  <h3>тЮХ рдирдпрд╛ рдкреНрд░рд╢реНрди рдЬреЛрдбрд╝реЗрдВ</h3>
  <textarea id="question" placeholder="рдкреНрд░рд╢реНрди рд▓рд┐рдЦреЗрдВ (рдмреЛрд▓реНрдб рджрд┐рдЦреЗрдЧрд╛)"></textarea>
 
  <div class="upload-btn-wrapper">
    <div class="upload-btn">
      <span>ЁЯУ╖ рдкреНрд░рд╢реНрди рдХреЗ рд▓рд┐рдП рдЫрд╡рд┐ рдЕрдкрд▓реЛрдб рдХрд░реЗрдВ (рд╡реИрдХрд▓реНрдкрд┐рдХ)</span>
    </div>
    <input type="file" id="imageUpload" accept="image/*">
  </div>
 
  <div class="image-preview-container">
    <img id="imagePreview" class="image-preview" alt="рдкреНрд░рд╢реНрди рдЫрд╡рд┐ рдкреВрд░реНрд╡рд╛рд╡рд▓реЛрдХрди">
    <button id="removeImageBtn" class="remove-image-btn" style="display:none;">тЭМ рдЫрд╡рд┐ рд╣рдЯрд╛рдПрдВ</button>
  </div>
 
  <input id="optA" placeholder="рд╡рд┐рдХрд▓реНрдк A">
  <input id="optB" placeholder="рд╡рд┐рдХрд▓реНрдк B">
  <input id="optC" placeholder="рд╡рд┐рдХрд▓реНрдк C">
  <input id="optD" placeholder="рд╡рд┐рдХрд▓реНрдк D">
  <select id="correct">
    <option value="A">A</option>
    <option value="B">B</option>
    <option value="C">C</option>
    <option value="D">D</option>
  </select>
  <textarea id="explanation" placeholder="рд╡реНрдпрд╛рдЦреНрдпрд╛ рд▓рд┐рдЦреЗрдВ (рд╕рд╛рдорд╛рдиреНрдп рдЯреЗрдХреНрд╕реНрдЯ)"></textarea>
 
  <div class="upload-btn-wrapper">
    <div class="upload-btn">
      <span>ЁЯУ╖ рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХреЗ рд▓рд┐рдП рдЫрд╡рд┐ рдЕрдкрд▓реЛрдб рдХрд░реЗрдВ (рд╡реИрдХрд▓реНрдкрд┐рдХ)</span>
    </div>
    <input type="file" id="explanationImageUpload" accept="image/*">
  </div>
 
  <div class="image-preview-container">
    <img id="explanationImagePreview" class="image-preview" alt="рд╡реНрдпрд╛рдЦреНрдпрд╛ рдЫрд╡рд┐ рдкреВрд░реНрд╡рд╛рд╡рд▓реЛрдХрди">
    <button id="removeExplanationImageBtn" class="remove-image-btn" style="display:none;">тЭМ рд╡реНрдпрд╛рдЦреНрдпрд╛ рдЫрд╡рд┐ рд╣рдЯрд╛рдПрдВ</button>
  </div>
 
  <div class="action-buttons">
    <button class="btn" onclick="saveQuestion()">ЁЯТ╛ рд╕реЗрд╡ рдХрд░реЗрдВ</button>
    <button class="btn delete-btn" onclick="clearForm()">ЁЯЧСя╕П рдлреЙрд░реНрдо рд╕рд╛рдлрд╝ рдХрд░реЗрдВ</button>
  </div>
 
  <div class="db-info">
    <div>
      <span class="status-indicator status-connected" id="dbStatus"></span>
      <span>IndexedDB рдХрдиреЗрдХреНрдЯреЗрдб</span>
    </div>
    <div id="storageInfo">рд╕реНрдЯреЛрд░реЗрдЬ рдЙрдкрдпреЛрдЧ: рд▓реЛрдб рд╣реЛ рд░рд╣рд╛ рд╣реИ...</div>
  </div>
 
  <div id="questionCount"></div>
  <div id="questionList"></div>
 
  <div class="backup-section">
    <h3 class="backup-title">ЁЯУе JSON рдмреИрдХрдЕрдк рдФрд░ рдЖрдпрд╛рдд</h3>
    <p style="text-align: center; margin-bottom: 15px;">
      рдирд┐рд░реНрдпрд╛рдд рдХрд┐рдП рдЧрдП JSON рдлрд╝рд╛рдЗрд▓ рд╕реЗ рдкреНрд░рд╢реНрди рдЖрдпрд╛рдд рдХрд░реЗрдВ рдпрд╛ рд╡рд░реНрддрдорд╛рди рдбреЗрдЯрд╛ рдирд┐рд░реНрдпрд╛рдд рдХрд░реЗрдВ
    </p>
   
    <div class="upload-btn-wrapper">
      <div class="upload-btn">
        <span>ЁЯУБ JSON рдлрд╝рд╛рдЗрд▓ рдЖрдпрд╛рдд рдХрд░реЗрдВ</span>
      </div>
      <input type="file" id="jsonImportFile" accept=".json">
    </div>
   
    <div class="backup-actions">
      <button class="btn" onclick="importJSONData()">тмЖя╕П JSON рдЖрдпрд╛рдд рдХрд░реЗрдВ</button>
      <button class="btn" onclick="exportJSONData()">тмЗя╕П JSON рдирд┐рд░реНрдпрд╛рдд рдХрд░реЗрдВ</button>
    </div>
   
    <div style="margin-top: 15px; background: #f9f9f9; padding: 15px; border-radius: 8px;">
      <h4 style="margin-top: 0; color: #3949ab;">JSON рдлрд╝рд╛рдЗрд▓ рдкреНрд░рд╛рд░реВрдк:</h4>
      <pre style="overflow: auto; max-height: 150px; background: white; padding: 10px; border-radius: 4px;">
{
  "subject": "рд╡рд┐рд╖рдп рдХрд╛ рдирд╛рдо",
  "subtopic": "рдЙрдкрд╡рд┐рд╖рдп рдХрд╛ рдирд╛рдо",
  "questions": [
    {
      "question": "рдкреНрд░рд╢реНрди рдЯреЗрдХреНрд╕реНрдЯ",
      "options": {
        "A": "рд╡рд┐рдХрд▓реНрдк A",
        "B": "рд╡рд┐рдХрд▓реНрдк B",
        "C": "рд╡рд┐рдХрд▓реНрдк C",
        "D": "рд╡рд┐рдХрд▓реНрдк D"
      },
      "correct": "A",
      "explanation": "рд╡реНрдпрд╛рдЦреНрдпрд╛ рдЯреЗрдХреНрд╕реНрдЯ",
      "image": "base64 рдЫрд╡рд┐ рдбреЗрдЯрд╛ (рд╡реИрдХрд▓реНрдкрд┐рдХ)",
      "explanationImage": "base64 рд╡реНрдпрд╛рдЦреНрдпрд╛ рдЫрд╡рд┐ рдбреЗрдЯрд╛ (рд╡реИрдХрд▓реНрдкрд┐рдХ)"
    }
  ]
}</pre>
    </div>
  </div>
</div>
<div id="practiceSection" class="section" style="display:none;">
  <h3>ЁЯОп рдЕрднреНрдпрд╛рд╕ рд╢реБрд░реВ рдХрд░реЗрдВ</h3>
  <div id="progress" style="font-weight:bold; font-size:18px; text-align:center; margin-bottom:15px;"></div>
  <div id="gotoContainer" style="display:flex; gap:10px; margin-top:15px;">
    <input id="gotoInput" type="number" placeholder="рдкреНрд░рд╢реНрди рд╕рдВрдЦреНрдпрд╛" style="flex:1; padding:12px;">
    <button id="gotoBtn" onclick="goToQuestion()" class="btn">ЁЯФН рдЬрд╛рдПрдВ</button>
  </div>
  <div id="quizQuestionContainer" style="margin-top:20px;">
    <div id="quizQuestion" class="question-container"></div>
  </div>
  <div id="quizOptions"></div>
</div>
<div id="resultSection" class="section" style="display:none;">
  <div class="result-card">
    <h3 style="text-align:center; color:#3949ab;">ЁЯУК рдЖрдкрдХреЗ рдкрд░рд┐рдгрд╛рдо</h3>
    <div style="display:flex; flex-wrap:wrap; gap:20px; justify-content:center; align-items:center;">
      <div style="flex:1; min-width:200px;">
        <div style="background:#f9f9f9; padding:15px; border-radius:8px;">
          <p><strong>ЁЯУЭ рдХреБрд▓ рдкреНрд░рд╢реНрди:</strong> <span id="totalQuestions">0</span></p>
          <p><strong>тЬЕ рд╕рд╣реА рдЙрддреНрддрд░:</strong> <span id="correctAnswers">0</span></p>
          <p><strong>тЭМ рдЧрд▓рдд рдЙрддреНрддрд░:</strong> <span id="incorrectAnswers">0</span></p>
          <p><strong>ЁЯУК рд╕рдЯреАрдХрддрд╛:</strong> <span id="accuracyPercent" style="font-weight:bold; color:#3949ab;">0%</span></p>
        </div>
      </div>
      <div style="position:relative; width:250px; height:250px;">
        <canvas id="resultChart"></canvas>
        <div class="accuracy-display">
          <span id="bigAccuracy">0%</span>
          <div style="font-size:14px; color:#666;">рд╕рдЯреАрдХрддрд╛</div>
        </div>
      </div>
    </div>
    <div class="action-buttons">
      <button class="btn" onclick="resetQuiz()">ЁЯФД рдирдпрд╛ рдЯреЗрд╕реНрдЯ рд╢реБрд░реВ рдХрд░реЗрдВ</button>
      <button class="btn" onclick="showInputSection()">ЁЯУЭ рдкреНрд░рд╢реНрди рд╕рдВрдкрд╛рджрд┐рдд рдХрд░реЗрдВ</button>
    </div>
  </div>
</div>
<script>
// IndexedDB рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди
const DB_NAME = 'QuizAppDB';
const DB_VERSION = 3;  // тЖР рдпрд╣рд╛рдБ рдмрджрд▓рд╛рд╡: 2 рд╕реЗ 3 рдХрд┐рдпрд╛ рдЧрдпрд╛ (рдкреБрд░рд╛рдиреЗ рд╡рд░реНрдЬрди рдХреЗ рд╕рд╛рде рдХрдВрдлреНрд▓рд┐рдХреНрдЯ рд╣рд▓)
const STORE_NAME = 'quizzes';
let db;
let questions = [];
let currentQuestion = 0;
let correctCount = 0;
let incorrectCount = 0;
let editIndex = -1;
let currentImage = null;
let currentExplanationImage = null;

// IndexedDB рдЦреЛрд▓реЗрдВ
function openDB() {
  return new Promise((resolve, reject) => {
    const request = indexedDB.open(DB_NAME, DB_VERSION);
   
    request.onerror = (event) => {
      console.error('рдбреЗрдЯрд╛рдмреЗрд╕ рддреНрд░реБрдЯрд┐:', event.target.error);
      document.getElementById('dbStatus').className = 'status-indicator status-disconnected';
      reject(event.target.error);
    };
   
    request.onsuccess = (event) => {
      db = event.target.result;
      console.log('рдбреЗрдЯрд╛рдмреЗрд╕ рдЦреЛрд▓рд╛ рдЧрдпрд╛ (рд╡рд░реНрдЬрди ' + db.version + ')');
      document.getElementById('dbStatus').className = 'status-indicator status-connected';
      updateStorageUsage();
      resolve(db);
    };
   
    request.onupgradeneeded = (event) => {
      const db = event.target.result;
      const oldVersion = event.oldVersion;
      
      console.log(`рдбреЗрдЯрд╛рдмреЗрд╕ рдЕрдкрдЧреНрд░реЗрдб: ${oldVersion} тЖТ ${DB_VERSION}`);
      
      if (oldVersion < 1) {
        // рдкрд╣рд▓реА рдмрд╛рд░ рдмрди рд░рд╣рд╛ рд╣реИ
        if (!db.objectStoreNames.contains(STORE_NAME)) {
          db.createObjectStore(STORE_NAME, { keyPath: 'id' });
        }
      }
      
      // рд╕рднреА рдкреБрд░рд╛рдиреЗ рд╡рд░реНрдЬрди рдХреЗ рд▓рд┐рдП рдСрдмреНрдЬреЗрдХреНрдЯ рд╕реНрдЯреЛрд░ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ
      if (!db.objectStoreNames.contains(STORE_NAME)) {
        db.createObjectStore(STORE_NAME, { keyPath: 'id' });
      }
    };
  });
}

// рдмрд╛рдХреА рд╕рднреА рдлрдВрдХреНрд╢рди рд╡рд╣реА рд░рд╣реЗрдВрдЧреЗ (рдХреЛрдИ рдмрджрд▓рд╛рд╡ рдирд╣реАрдВ)
async function loadQuizFromDB(quizId) {
  if (!db) await openDB();
 
  return new Promise((resolve, reject) => {
    const transaction = db.transaction([STORE_NAME], 'readonly');
    const store = transaction.objectStore(STORE_NAME);
    const request = store.get(quizId);
   
    request.onerror = (event) => {
      console.error('рдбреЗрдЯрд╛ рд▓реЛрдб рдХрд░рдиреЗ рдореЗрдВ рддреНрд░реБрдЯрд┐:', event.target.error);
      reject(event.target.error);
    };
   
    request.onsuccess = (event) => {
      const quizData = event.target.result;
      resolve(quizData ? quizData.questions : []);
    };
  });
}

async function saveQuizToDB(quizId, questions) {
  if (!db) await openDB();
 
  return new Promise((resolve, reject) => {
    const transaction = db.transaction([STORE_NAME], 'readwrite');
    const store = transaction.objectStore(STORE_NAME);
   
    const quizData = {
      id: quizId,
      questions: questions,
      lastUpdated: new Date()
    };
   
    const request = store.put(quizData);
   
    request.onerror = (event) => {
      console.error('рдбреЗрдЯрд╛ рд╕рд╣реЗрдЬрдиреЗ рдореЗрдВ рддреНрд░реБрдЯрд┐:', event.target.error);
      reject(event.target.error);
    };
   
    request.onsuccess = () => {
      console.log(`рдХреНрд╡рд┐рдЬ ${quizId} рд╕рд╣реЗрдЬреА рдЧрдИ`);
      updateStorageUsage();
      resolve();
    };
  });
}

function updateStorageUsage() {
  if (!navigator.storage || !navigator.storage.estimate) return;
 
  navigator.storage.estimate().then(estimate => {
    const usedMB = (estimate.usage / (1024 * 1024)).toFixed(2);
    const quotaMB = (estimate.quota / (1024 * 1024)).toFixed(2);
    document.getElementById('storageInfo').textContent =
      `рд╕реНрдЯреЛрд░реЗрдЬ рдЙрдкрдпреЛрдЧ: ${usedMB} MB / ${quotaMB} MB`;
  });
}

// рдмрд╛рдХреА рд╕рд╛рд░рд╛ рдХреЛрдб рдмрд┐рд▓реНрдХреБрд▓ рд╡реИрд╕рд╛ рд╣реА рд╣реИ рдЬреИрд╕рд╛ рдЖрдкрдиреЗ рджрд┐рдпрд╛ рдерд╛ (рдпрд╣рд╛рдБ рдЬрдЧрд╣ рдмрдЪрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ рджреЛрд╣рд░рд╛рдпрд╛ рдЧрдпрд╛)
// рдЕрдЧрд░ рдЬрд░реВрд░рдд рд╣реЛ рддреЛ рдКрдкрд░ рд╡рд╛рд▓рд╛ рдкреБрд░рд╛рдирд╛ рдХреЛрдб рдпрд╣рд╛рдБ рд╕реЗ рдХреЙрдкреА рдХрд░рдХреЗ рдиреАрдЪреЗ рдкреЗрд╕реНрдЯ рдХрд░ рджреЗрдВред

// ... (рд╕рднреА рдлрдВрдХреНрд╢рди: image handlers, saveQuestion, showAllQuestions, editQuestion, deleteQuestion, showQuestion, handleAnswer, submitQuiz, рдЖрджрд┐)

// рдРрдк рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ рдХрд░реЗрдВ
window.onload = async function() {
  if (!localStorage.getItem("selectedMain")) {
    localStorage.setItem("selectedMain", "demo");
    localStorage.setItem("selectedSub", "demo");
    localStorage.setItem("quizMode", "input");
  }
 
  await populateQuiz();
 
  setTimeout(updateStorageUsage, 5000);
 
  document.getElementById('jsonImportFile').addEventListener('change', function() {
    const fileName = this.files[0] ? this.files[0].name : 'ЁЯУБ JSON рдлрд╝рд╛рдЗрд▓ рдЖрдпрд╛рдд рдХрд░реЗрдВ';
    document.querySelector('.upload-btn span').textContent = `рдЪрдпрдирд┐рдд рдлрд╝рд╛рдЗрд▓: ${fileName}`;
  });
};
</script>
</body>
</html>
